!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],t):t((e.ngx=e.ngx||{},e.ngx.youtube=e.ngx.youtube||{}),e.ng.core)}(this,function(e,t){"use strict";var o=window.gapi=window.gapi||{};o._bs=(new Date).getTime(),function(){var e,t=window,o=document,r=t.location,i=function(){},n=/\[native code\]/,s=function(e,t,o){return e[t]=e[t]||o},a=function(e){e=e.sort();for(var t=[],o=void 0,r=0;r<e.length;r++){var i=e[r];i!=o&&t.push(i),o=i}return t},u=function(){var e;if((e=Object.create)&&n.test(e))e=e(null);else{e={};for(var t in e)e[t]=void 0}return e},l=s(t,"gapi",{});e=s(t,"___jsl",u()),s(e,"I",0),s(e,"hel",10);var c=function(){var t=r.href;if(e.dpo)var o=e.h;else{o=e.h;var i=/([#].*&|[#])jsh=([^&#]*)/g,n=/([?#].*&|[?#])jsh=([^&#]*)/g;if(t=t&&(i.exec(t)||n.exec(t)))try{o=decodeURIComponent(t[2])}catch(e){}}return o},p=function(t){var o=s(e,"PQ",[]);e.PQ=[];var r=o.length;if(0===r)t();else for(var i=0,n=function(){++i===r&&t()},a=0;a<r;a++)o[a](n)},g=function(t){return s(s(e,"H",u()),t,u())},h=s(e,"perf",u()),d=s(h,"g",u()),f=s(h,"i",u());s(h,"r",[]),u(),u();var m=function(e,t,o){var r=h.r;"function"==typeof r?r(e,t,o):r.push([e,t,o])},v=function(e,t,o){t&&0<t.length&&(t=_(t),o&&0<o.length&&(t+="___"+_(o)),28<t.length&&(t=t.substr(0,28)+(t.length-28)),o=t,t=s(f,"_p",u()),s(t,o,u())[e]=(new Date).getTime(),m(e,"_p",o))},_=function(e){return e.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/\,/g,"_")},w=u(),b=[],y=function(e){throw Error("Bad hint"+(e?": "+e:""))};b.push(["jsl",function(t){for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=t[o];"object"==typeof r?e[o]=s(e,o,[]).concat(r):s(e,o,r)}(o=t.u)&&(t=s(e,"us",[]),t.push(o),(o=/^https:(.*)$/.exec(o))&&t.push("http:"+o[1]))}]);var x=/^(\/[a-zA-Z0-9_\-]+)+$/,C=[/\/amp\//,/\/amp$/,/^\/amp$/],I=/^[a-zA-Z0-9\-_\.,!]+$/,A=/^gapi\.loaded_[0-9]+$/,k=/^[a-zA-Z0-9,._-]+$/,j=function(e,t,o,r){var i=e.split(";"),n=i.shift(),s=w[n],a=null;return s?a=s(i,t,o,r):y("no hint processor for: "+n),a||y("failed to generate load url"),t=a,o=t.match(O),(r=t.match(D))&&1===r.length&&S.test(t)&&o&&1===o.length||y("failed sanity: "+e),a},E=function(e,t,o,r){e=T(e),A.test(o)||y("invalid_callback"),t=R(t),r=r&&r.length?R(r):null;var i=function(e){return encodeURIComponent(e).replace(/%2C/g,",")};return[encodeURIComponent(e.g).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",i(e.version),"/m=",i(t),r?"/exm="+i(r):"","/rt=j/sv=1/d=1/ed=1",e.a?"/am="+i(e.a):"",e.c?"/rs="+i(e.c):"",e.f?"/t="+i(e.f):"","/cb=",i(o)].join("")},T=function(e){"/"!==e.charAt(0)&&y("relative path");for(var t=e.substring(1).split("/"),o=[];t.length;){if(e=t.shift(),e.length&&0!=e.indexOf(".")){if(0<e.indexOf("=")){t.unshift(e);break}}else y("empty/relative directory");o.push(e)}e={};for(var r=0,i=t.length;r<i;++r){var n=t[r].split("="),s=decodeURIComponent(n[0]),a=decodeURIComponent(n[1]);2==n.length&&s&&a&&(e[s]=e[s]||a)}for(t="/"+o.join("/"),x.test(t)||y("invalid_prefix"),o=0,r=C.length;o<r;++o)C[o].test(t)&&y("invalid_prefix");return o=P(e,"k",!0),r=P(e,"am"),i=P(e,"rs"),e=P(e,"t"),{g:t,version:o,a:r,c:i,f:e}},R=function(e){for(var t=[],o=0,r=e.length;o<r;++o){var i=e[o].replace(/\./g,"_").replace(/-/g,"_");k.test(i)&&t.push(i)}return t.join(",")},P=function(e,t,o){if(e=e[t],!e&&o&&y("missing: "+t),e){if(I.test(e))return e;y("invalid: "+t)}return null},S=/^https?:\/\/[a-z0-9_.-]+\.google\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,D=/\/cb=/g,O=/\/\//g,q=function(){var e=c();if(!e)throw Error("Bad hint");return e};w.m=function(e,t,o,r){return(e=e[0])||y("missing_hint"),"https://apis.google.com"+E(e,t,o,r)};var U=decodeURI("%73cript"),z=/^[-+_0-9\/A-Za-z]+={0,2}$/,L=function(e,t){for(var o=[],r=0;r<e.length;++r){var i,n=e[r];if(i=n){e:{for(i=0;i<t.length;i++)if(t[i]===n)break e;i=-1}i=0>i}i&&o.push(n)}return o},$=function(){var t=e.nonce;if(void 0!==t)return t&&t===String(t)&&t.match(z)?t:e.nonce=null;var r=s(e,"us",[]);if(!r||!r.length)return e.nonce=null;for(var i=o.getElementsByTagName(U),n=0,a=i.length;n<a;++n){var u=i[n];if(u.src&&(t=String(u.nonce||u.getAttribute("nonce")||"")||null)){for(var l=0,c=r.length;l<c&&r[l]!==u.src;++l);if(l!==c&&t&&t===String(t)&&t.match(z))return e.nonce=t}}return null},B=function(e){if("loading"!=o.readyState)G(e);else{var t=$(),r="";null!==t&&(r=' nonce="'+t+'"'),o.write("<"+U+' src="'+encodeURI(e)+'"'+r+"></"+U+">")}},G=function(e){var t=o.createElement(U);t.setAttribute("src",e),e=$(),null!==e&&t.setAttribute("nonce",e),t.async="true",(e=o.getElementsByTagName(U)[0])?e.parentNode.insertBefore(t,e):(o.head||o.body||o.documentElement).appendChild(t)},M=function(e,t){var o=t&&t._c;if(o)for(var r=0;r<b.length;r++){var i=b[r][0],n=b[r][1];n&&Object.prototype.hasOwnProperty.call(o,i)&&n(o[i],e,t)}},N=function(e,t,o){Z(function(){var o=t===c()?s(l,"_",u()):u();o=s(g(t),"_",o),e(o)},o)},Y=function(t,o){var r=o||{};"function"==typeof o&&(r={},r.callback=o),M(t,r),o=t?t.split(":"):[];var i=r.h||q(),n=s(e,"ah",u());if(n["::"]&&o.length){t=[];for(var a=null;a=o.shift();){var l=a.split(".");l=n[a]||n[l[1]&&"ns:"+l[0]||""]||i;var c=t.length&&t[t.length-1]||null,p=c;c&&c.hint==l||(p={hint:l,b:[]},t.push(p)),p.b.push(a)}var g=t.length;if(1<g){var h=r.callback;h&&(r.callback=function(){0==--g&&h()})}for(;o=t.shift();)V(o.b,r,o.hint)}else V(o||[],r,i)},V=function(o,r,n){o=a(o)||[];var u=r.callback,c=r.config,h=r.timeout,d=r.ontimeout,f=r.onerror,m=void 0;"function"==typeof f&&(m=f);var _=null,w=!1;if(h&&!d||!h&&d)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";f=s(g(n),"r",[]).sort();var b=s(g(n),"L",[]).sort(),y=[].concat(f),x=function(o,r){if(w)return 0;t.clearTimeout(_),b.push.apply(b,C);var i=((l||{}).config||{}).update;if(i?i(c):c&&s(e,"cu",[]).push(c),r){v("me0",o,y);try{N(r,n,m)}finally{v("me1",o,y)}}return 1};0<h&&(_=t.setTimeout(function(){w=!0,d()},h));var C=L(o,b);if(C.length){C=L(o,f);var I=s(e,"CP",[]),A=I.length;if(I[A]=function(e){if(!e)return 0;v("ml1",C,y);var t=function(t){I[A]=null,x(C,e)&&p(function(){u&&u(),t()})},o=function(){var e=I[A+1];e&&e()};0<A&&I[A-1]?I[A]=function(){t(o)}:t(o)},C.length){var k="loaded_"+e.I++;l[k]=function(e){I[A](e),l[k]=null},o=j(n,C,"gapi."+k,f),f.push.apply(f,C),v("ml0",C,y),r.sync||t.___gapisync?B(o):G(o)}else I[A](i)}else x(C)&&u&&u()},Z=function(t,o){if(e.hee&&0<e.hel)try{return t()}catch(t){o&&o(t),e.hel--,Y("debug_error",function(){try{window.___jsl.hefn(t)}catch(e){throw t}})}else try{return t()}catch(e){throw o&&o(e),e}};l.load=function(e,t){return Z(function(){return Y(e,t)})},d.bs0=window.gapi._bs||(new Date).getTime(),m("bs0"),d.bs1=(new Date).getTime(),m("bs1"),delete window.gapi._bs}.call(void 0),o.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!0,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1,batchPath:{translate:"batch/translate"},perApiBatch:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"en",iframes:{ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},shortlists:{url:""},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},donation:{url:"https://onetoday.google.com/home/donationWidget?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},additnow:{url:"https://apis.google.com/additnow/additnow.html?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://gsuite.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"},youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},udc_webconsentflow:{params:{url:""},url:"https://myaccount.google.com/webconsent?usegapi=1"},savetoandroidpay:{url:"https://androidpay.google.com/a/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},":gplus_url:":"https://plus.google.com",rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},sharetoclassroom:{url:"https://www.gstatic.com/classroom/sharewidget/widget_stable.html?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},savetowallet:{url:"https://androidpay.google.com/a/widget/save"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en.KP3DNSDF_28.O/m=__features__/am=AQ/rt=j/d=1/rs=AGLTcCN-gGvjEWU-zXLYV7GJfMM0J9oEqQ",u:"https://apis.google.com/js/api.js",hee:!0,fp:"f983224720685d3919d86656359918dad2084b10",dpo:!1},fp:"f983224720685d3919d86656359918dad2084b10",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var r,i=function(){function e(e){this.CLIENT_ID=e.clientId,this.DISCOVERY_DOCS=e.discoveryDocs,this.SCOPE=e.scope}return e.prototype.getConfigs=function(){var e={};return e.clientId=this.CLIENT_ID,e.discoveryDocs=this.DISCOVERY_DOCS,e.scope=this.SCOPE,e},e}(),n=function(){function e(e){this.config=new i(e)}return e.prototype.handleClientLoad=function(){gapi.load("client:auth2",this.initClient())},e.prototype.initClient=function(){var e=this.config.getConfigs();setTimeout(function(){gapi.client.init(e).then(function(){r=gapi.auth2.getAuthInstance()})},2e3)},e.prototype.handleAuthClick=function(e){return r.signIn()},e.prototype.setSigninStatus=function(){},e.prototype.updateSigninStatus=function(e){this.setSigninStatus()},e.prototype.createResource=function(e){var t={},o=e;for(var r in e){var i=e[r];if(r&&"[]"==r.substr(-2,2)){var n=r.replace("[]","");i&&(o[n]=i.split(",")),delete o[r]}}for(var r in o)if(o.hasOwnProperty(r)&&o[r])for(var s=r.split("."),a=t,u=0;u<s.length;u++){var l=s[u];u==s.length-1?a[l]=o[r]:a=a[l]=a[l]||{}}return t},e.prototype.removeEmptyParams=function(e){for(var t in e)e[t]&&"undefined"!=e[t]||delete e[t];return e},e.prototype.buildApiRequest=function(e,t,o,r){void 0===r&&(r=!1),o=this.removeEmptyParams(o);var i;if(r){var n=this.createResource(r);i=gapi.client.request({body:n,method:e,path:t,params:o})}else i=gapi.client.request({method:e,path:t,params:o});return i},e}(),s=function(){function e(e){this.config=new i(e),this.provider=new n(e)}return e.factory=function(t){return new e(t)},e.prototype.auth=function(e){return this.provider.handleAuthClick(e)},e.prototype.search=function(e,t,o,r){return void 0===r&&(r="snippet"),this.provider.buildApiRequest("GET","/youtube/v3/search",{maxResults:t,part:r,q:e,type:o})},e.prototype.getChannelByID=function(e,t){return void 0===t&&(t="snippet"),this.provider.buildApiRequest("GET","/youtube/v3/channels",{id:e,part:t})},e.prototype.getVideosByID=function(e,t){return void 0===t&&(t="snippet"),this.provider.buildApiRequest("GET","/youtube/v3/videos",{id:e,part:t})},e.prototype.getMostPopular=function(e,t,o){return void 0===t&&(t=""),void 0===o&&(o="snippet"),this.provider.buildApiRequest("GET","/youtube/v3/channels",{chart:"mostPopular",regionCode:e,part:o,videoCategoryId:t})},e.prototype.getAuthLiked=function(e){return void 0===e&&(e="snippet"),this.provider.buildApiRequest("GET","/youtube/v3/channels",{myRating:"like",part:e})},e}();s.decorators=[{type:t.Injectable}],s.ctorParameters=function(){return[null]};var a=function(){function e(){}return e.setConfig=function(t){return new n(t).handleClientLoad(),{ngModule:e,providers:[{provide:s,useFactory:function(){return s.factory(t)}}]}},e}();a.decorators=[{type:t.NgModule}],a.ctorParameters=function(){return[]},e.YTApiModule=a,e.YTApiService=s,e.YTApiProvideService=n,e.YTApiConfig=i,Object.defineProperty(e,"__esModule",{value:!0})});