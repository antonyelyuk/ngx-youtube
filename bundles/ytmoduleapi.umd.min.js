!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/add/observable/of")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/add/observable/of"],e):e((t.ngx=t.ngx||{},t.ngx.youtube=t.ngx.youtube||{}),t.ng.core)}(this,function(t,e){"use strict";var n,i=function(){function t(t){this.CLIENT_ID=t.clientId,this.DISCOVERY_DOCS=t.discoveryDocs,this.SCOPE=t.scope}return t.prototype.getConfigs=function(){var t={};return t.clientId=this.CLIENT_ID,t.discoveryDocs=this.DISCOVERY_DOCS,t.scope=this.SCOPE,t},t}(),o=function(){function t(t){this.config=new i(t)}return t.prototype.handleClientLoad=function(){gapi.load("client:auth2",this.initClient())},t.prototype.initClient=function(){var t=this.config.getConfigs();setTimeout(function(){gapi.client.init(t).then(function(){n=gapi.auth2.getAuthInstance()})},2e3)},t.prototype.handleAuthClick=function(t){return n.signIn()},t.prototype.setSigninStatus=function(){},t.prototype.updateSigninStatus=function(t){this.setSigninStatus()},t.prototype.createResource=function(t){var e={},n=t;for(var i in t){var o=t[i];if(i&&"[]"==i.substr(-2,2)){var r=i.replace("[]","");o&&(n[r]=o.split(",")),delete n[i]}}for(var i in n)if(n.hasOwnProperty(i)&&n[i])for(var u=i.split("."),p=e,s=0;s<u.length;s++){var a=u[s];s==u.length-1?p[a]=n[i]:p=p[a]=p[a]||{}}return e},t.prototype.removeEmptyParams=function(t){for(var e in t)t[e]&&"undefined"!=t[e]||delete t[e];return t},t.prototype.buildApiRequest=function(t,e,n,i){void 0===i&&(i=!1),n=this.removeEmptyParams(n);var o;if(i){var r=this.createResource(i);o=gapi.client.request({body:r,method:t,path:e,params:n})}else o=gapi.client.request({method:t,path:e,params:n});return o},t}(),r=function(){function t(t){this.config=new i(t),this.provider=new o(t)}return t.factory=function(e){return new t(e)},t.prototype.auth=function(t){return this.provider.handleAuthClick(t)},t.prototype.search=function(t,e,n,i){return void 0===i&&(i="snippet"),this.provider.buildApiRequest("GET","/youtube/v3/search",{maxResults:e,part:i,q:t,type:n})},t.prototype.getChannelByID=function(t,e){return void 0===e&&(e="snippet"),this.provider.buildApiRequest("GET","/youtube/v3/channels",{id:t,part:e})},t.prototype.getVideosByID=function(t,e){return void 0===e&&(e="snippet"),this.provider.buildApiRequest("GET","/youtube/v3/videos",{id:t,part:e})},t.prototype.getMostPopular=function(t,e,n){return void 0===e&&(e=""),void 0===n&&(n="snippet"),this.provider.buildApiRequest("GET","/youtube/v3/channels",{chart:"mostPopular",regionCode:t,part:n,videoCategoryId:e})},t.prototype.getAuthLiked=function(t){return void 0===t&&(t="snippet"),this.provider.buildApiRequest("GET","/youtube/v3/channels",{myRating:"like",part:t})},t}();r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[null]};var u=function(){function t(){}return t.setConfig=function(e){return new o(e).handleClientLoad(),{ngModule:t,providers:[{provide:r,useFactory:function(){return r.factory(e)}}]}},t}();u.decorators=[{type:e.NgModule}],u.ctorParameters=function(){return[]},t.YTApiModule=u,t.YTApiService=r,t.YTApiProvideService=o,t.YTApiConfig=i,Object.defineProperty(t,"__esModule",{value:!0})});